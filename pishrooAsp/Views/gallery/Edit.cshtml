@model pishrooAsp.Models.GalleryImage

@{
    Layout = "_AdminLayout";

    ViewData["Title"] = "ویرایش تصویر";
}

<div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-lg">
    <h2 class="text-xl font-bold text-gray-800 mb-6">✏️ ویرایش تصویر گالری</h2>

    <form asp-action="Edit" method="post" class="space-y-6">
        <!-- فیلد عنوان -->
        <div>
            <label asp-for="Title" class="block text-sm font-medium text-gray-700 mb-1">عنوان</label>
            <input asp-for="Title"
                   class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none" />
            <span asp-validation-for="Title" class="text-red-500 text-sm"></span>
        </div>

        <!-- فیلد توضیحات -->
        <div>
            <label asp-for="Description" class="block text-sm font-medium text-gray-700 mb-1">توضیحات</label>
            <textarea asp-for="Description" rows="4"
                      class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none"></textarea>
            <span asp-validation-for="Description" class="text-red-500 text-sm"></span>
        </div>

        <!-- نمایش تصویر فعلی -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">📷 تصویر فعلی</label>
            <div class="flex items-center space-x-4 rtl:space-x-reverse">
                <img src="@Model.FilePath" alt="@Model.Title"
                     class="w-40 h-40 object-cover rounded-lg border border-gray-200 shadow" />
                <div class="text-sm text-gray-500">
                    <p>نام فایل: <span class="font-medium text-gray-700">@Model.OriginalFileName</span></p>
                    <p>حجم فایل: <span class="font-medium text-gray-700">@((Model.FileSize / 1024).ToString("N0")) KB</span></p>
                </div>
            </div>
        </div>

        <!-- فیلدهای مخفی -->
        <input type="hidden" asp-for="Id" />
        <input type="hidden" asp-for="FileName" />
        <input type="hidden" asp-for="OriginalFileName" />
        <input type="hidden" asp-for="FilePath" />
        <input type="hidden" asp-for="FileSize" />
        <input type="hidden" asp-for="UploadDate" />

        <!-- دکمه‌ها -->
        <div class="flex justify-end space-x-3 rtl:space-x-reverse">
            <a asp-action="Index"
               class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition">
                بازگشت
            </a>
            <button type="submit"
                    class="px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition">
                ذخیره تغییرات
            </button>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
