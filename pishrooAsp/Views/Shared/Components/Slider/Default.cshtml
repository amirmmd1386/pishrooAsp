@model List<SliderViewModel>

<section id="home" class="slider-container w-full h-screen relative">
    @for (int i = 0; i < Model.Count; i++)
    {
        var item = Model[i];
        <div class="slider-item @(i == 0 ? "active" : "") flex items-center justify-center text-center p-4">
            <img src="@item.ImageUrl" alt="@item.Title" class="absolute inset-0 w-full h-full object-cover opacity-80" />
            <div class="relative z-10 p-8 rounded-lg max-w-3xl" style="background-color: rgba(13, 40, 70, 0.7); color: #ffffff;">
                <h2 class="text-5xl md:text-6xl font-extrabold mb-4 leading-tight">@item.Title</h2>
                <p class="text-xl md:text-2xl font-light">@item.ShortDescription</p>
               
            </div>

        </div>
    }

    <!-- Slider Navigation Buttons -->
    <button id="prev-slide" class="absolute top-1/2 right-4 transform -translate-y-1/2 custom-blue text-custom-white p-3 rounded-full shadow-lg hover:opacity-80 transition duration-300 z-20">
        <i class="fas fa-chevron-right text-2xl"></i>
    </button>
    <button id="next-slide" class="absolute top-1/2 left-4 transform -translate-y-1/2 custom-blue text-custom-white p-3 rounded-full shadow-lg hover:opacity-80 transition duration-300 z-20">
        <i class="fas fa-chevron-left text-2xl"></i>
    </button>

    <!-- Slider Navigation Dots -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20">
        @for (int i = 0; i < Model.Count; i++)
        {
            <div class="dot w-4 h-4 rounded-full custom-white opacity-50 cursor-pointer transition duration-300 hover:opacity-100 @(i == 0 ? "border-2 border-transparent" : "")"></div>
        }
    </div>
</section>

@section Scripts {
    <script>
        const slides = document.querySelectorAll('.slider-item');
        const nextBtn = document.getElementById('next-slide');
        const prevBtn = document.getElementById('prev-slide');
        const dots = document.querySelectorAll('.dot');

        let currentIndex = 0;

        function showSlide(index) {
            if(index >= slides.length) currentIndex = 0;
            else if(index < 0) currentIndex = slides.length - 1;
            else currentIndex = index;

            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === currentIndex);
            });

            dots.forEach((dot, i) => {
                dot.style.opacity = i === currentIndex ? '1' : '0.5';
                if(i === currentIndex) {
                    dot.classList.add('border-2','border-transparent');
                } else {
                    dot.classList.remove('border-2','border-transparent');
                }
            });
        }

        nextBtn.addEventListener('click', () => {
            showSlide(currentIndex + 1);
        });

        prevBtn.addEventListener('click', () => {
            showSlide(currentIndex - 1);
        });

        dots.forEach((dot, i) => {
            dot.addEventListener('click', () => {
                showSlide(i);
            });
        });

        // خودکار اسلاید (اختیاری)
        setInterval(() => {
            showSlide(currentIndex + 1);
        }, 6000);

        // بار اول نمایش اسلاید 0
        showSlide(0);
    </script>
}
