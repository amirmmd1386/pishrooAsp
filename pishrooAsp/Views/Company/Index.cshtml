@model List<pishrooAsp.Models.Sms.Company>
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@{
    var lang = ViewBag.Language as string ?? "fa";

    // متون ترجمه شده
    string companyList = lang switch
    {
        "fa" => "لیست شرکت‌ها",
        "en" => "Company List",
        "ru" => "Список компаний",
        "tr" => "Şirket Listesi",
        "ar" => "قائمة الشركات",
        _ => "Company List"
    };

    string companyName = lang switch
    {
        "fa" => "نام شرکت",
        "en" => "Company Name",
        "ru" => "Название компании",
        "tr" => "Şirket Adı",
        "ar" => "اسم الشركة",
        _ => "Company Name"
    };

    string mobileNumber = lang switch
    {
        "fa" => "شماره موبایل",
        "en" => "Mobile Number",
        "ru" => "Мобильный номер",
        "tr" => "Cep Telefonu",
        "ar" => "رقم الجوال",
        _ => "Mobile Number"
    };

    string actions = lang switch
    {
        "fa" => "عملیات",
        "en" => "Actions",
        "ru" => "Действия",
        "tr" => "İşlemler",
        "ar" => "الإجراءات",
        _ => "Actions"
    };

    string sendSms = lang switch
    {
        "fa" => "ارسال پیامک",
        "en" => "Send SMS",
        "ru" => "Отправить SMS",
        "tr" => "SMS Gönder",
        "ar" => "إرسال رسالة",
        _ => "Send SMS"
    };

    string viewHistory = lang switch
    {
        "fa" => "مشاهده تاریخچه",
        "en" => "View History",
        "ru" => "Просмотр истории",
        "tr" => "Geçmişi Görüntüle",
        "ar" => "عرض السجل",
        _ => "View History"
    };

    string addNewCompany = lang switch
    {
        "fa" => "افزودن شرکت جدید",
        "en" => "Add New Company",
        "ru" => "Добавить новую компанию",
        "tr" => "Yeni Şirket Ekle",
        "ar" => "إضافة شركة جديدة",
        _ => "Add New Company"
    };

    string smsHistory = lang switch
    {
        "fa" => "تاریخچه پیامک‌ها",
        "en" => "SMS History",
        "ru" => "История SMS",
        "tr" => "SMS Geçmişi",
        "ar" => "سجل الرسائل",
        _ => "SMS History"
    };
}

<div class="container mx-auto px-4 py-8">
    <!-- هدر صفحه -->
    <div class="flex justify-between items-center mb-8">
        <div>
            <h2 class="text-3xl font-bold text-gray-800">@companyList</h2>
            <p class="text-gray-600 mt-2">
                @(lang == "fa" ? "مدیریت و ارسال پیامک به شرکت‌ها" :
                                "Manage and send SMS to companies")
            </p>
        </div>

        <!-- دکمه افزودن شرکت جدید -->
        <a href="@Url.Action("Create", "Company")"
           class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl">
            <i class="fas fa-plus-circle ml-2"></i>
            @addNewCompany
        </a>
    </div>

    <!-- جدول شرکت‌ها -->
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gradient-to-r from-blue-50 to-indigo-50">
                    <tr>
                        <th class="px-6 py-4 text-right text-sm font-semibold text-blue-800 uppercase tracking-wider">
                            @companyName
                        </th>
                        <th class="px-6 py-4 text-right text-sm font-semibold text-blue-800 uppercase tracking-wider">
                            @mobileNumber
                        </th>
                        <th class="px-6 py-4 text-right text-sm font-semibold text-blue-800 uppercase tracking-wider">
                            @actions
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-100">
                    @foreach (var company in Model)
                    {
                        <tr class="hover:bg-blue-50 transition-colors duration-200">
                            <!-- نام شرکت -->
                            <td class="px-6 py-4 whitespace-nowrap">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-building text-blue-600"></i>
                                    </div>
                                    <div class="mr-4">
                                        <div class="text-sm font-medium text-gray-900">@company.Title</div>
                                        <div class="text-sm text-gray-500">
                                            ID: @company.Id
                                        </div>
                                    </div>
                                </div>
                            </td>

                            <!-- شماره موبایل -->
                            <td class="px-6 py-4 whitespace-nowrap">
                                <div class="flex items-center">
                                    <i class="fas fa-phone text-green-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-900 font-mono">
                                        @company.Mobile
                                    </span>
                                </div>
                            </td>

                            <!-- عملیات -->
                            <td class="px-6 py-4 whitespace-nowrap">
                                <div class="flex space-x-3 space-x-reverse">
                                    <!-- دکمه ارسال پیامک -->
                                    <a href="@Url.Action("SelectTemplate", "CompanySms", new { companyId = company.Id })"
                                       class="inline-flex items-center bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow hover:shadow-md">
                                        <i class="fas fa-paper-plane ml-2"></i>
                                        @sendSms
                                    </a>

                                    <!-- دکمه مشاهده تاریخچه -->
                                    <a href="@Url.Action("History", "CompanySms", new { companyId = company.Id })"
                                       class="inline-flex items-center bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow hover:shadow-md">
                                        <i class="fas fa-history ml-2"></i>
                                        @viewHistory
                                    </a>

                                    <!-- دکمه حذف -->
                                    <a href="@Url.Action("Delete", "Company", new { id = company.Id })"
                                       class="inline-flex items-center bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg font-medium hover:from-red-600 hover:to-orange-600 transition-all duration-300 shadow hover:shadow-md">
                                        <i class="fas fa-trash ml-2"></i>
                                        حذف
                                    </a>
                                </div>
                            </td>
                        </tr>
                    }

                    <!-- حالت خالی -->
                    @if (!Model.Any())
                    {
                        <tr>
                            <td colspan="3" class="px-6 py-12 text-center">
                                <div class="flex flex-col items-center justify-center">
                                    <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4">
                                        <i class="fas fa-building text-3xl text-gray-400"></i>
                                    </div>
                                    <h3 class="text-xl font-semibold text-gray-600 mb-2">
                                        @(lang == "fa" ? "شرکتی یافت نشد" : "No companies found")
                                    </h3>
                                    <p class="text-gray-500 mb-6">
                                        @(lang == "fa" ? "هنوز شرکتی ثبت نشده است." : "No companies have been registered yet.")
                                    </p>
                                    <a href="@Url.Action("Create", "CompanySms")"
                                       class="bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition duration-300">
                                        <i class="fas fa-plus ml-2"></i>
                                        @addNewCompany
                                    </a>
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <!-- فوتر جدول -->
        @if (Model.Any())
        {
            <div class="px-6 py-4 bg-gray-50 border-t border-gray-200">
                <div class="flex justify-between items-center">
                    <div class="text-sm text-gray-600">
                        <i class="fas fa-info-circle ml-2"></i>
                        @(lang == "fa" ? $"تعداد کل شرکت‌ها: {Model.Count}" :
                                            $"Total companies: {Model.Count}")
                </div>
                <div class="flex space-x-4 space-x-reverse">
                    <button class="text-blue-600 hover:text-blue-800 font-medium flex items-center">
                        <i class="fas fa-file-export ml-2"></i>
                        @(lang == "fa" ? "خروجی Excel" : "Export Excel")
                    </button>
                    <button class="text-blue-600 hover:text-blue-800 font-medium flex items-center">
                        <i class="fas fa-print ml-2"></i>
                        @(lang == "fa" ? "چاپ" : "Print")
                    </button>
                </div>
            </div>
        </div>
                }
    </div>

    <!-- کارت اطلاعات -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
        <!-- کارت آمار -->
        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 shadow-lg">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-blue-700 font-medium">@(lang == "fa" ? "تعداد شرکت‌ها" : "Total Companies")</p>
                    <p class="text-3xl font-bold text-gray-800 mt-2">@Model.Count</p>
                </div>
                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                    <i class="fas fa-building text-blue-600 text-xl"></i>
                </div>
            </div>
        </div>

        <!-- کارت راهنما -->
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 shadow-lg">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-green-700 font-medium">@(lang == "fa" ? "ارسال پیامک" : "Send SMS")</p>
                    <p class="text-sm text-gray-600 mt-2">
                        @(lang == "fa" ? "برای ارسال پیامک روی دکمه ارسال پیامک کلیک کنید" :
                                                "Click on Send SMS button to send messages")
                    </p>
                </div>
                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                    <i class="fas fa-paper-plane text-green-600 text-xl"></i>
                </div>
            </div>
        </div>

        <!-- کارت تاریخچه -->
        <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 shadow-lg">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-purple-700 font-medium">@smsHistory</p>
                    <p class="text-sm text-gray-600 mt-2">
                        @(lang == "fa" ? "مشاهده تمام پیامک‌های ارسالی" :
                                                "View all sent SMS messages")
                    </p>
                </div>
                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                    <i class="fas fa-history text-purple-600 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* استایل‌های سفارشی */
    .hover-lift {
        transition: all 0.3s ease;
    }

        .hover-lift:hover {
            transform: translateY(-2px);
        }

    /* انیمیشن برای ردیف‌های جدول */
    tr {
        transition: background-color 0.2s ease;
    }
</style>